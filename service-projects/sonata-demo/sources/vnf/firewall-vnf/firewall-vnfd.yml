author: Steven van Rossem, iMinds
connection_points:
- id: mgmt
  interface: ipv4
  type: management
- id: input
  interface: ipv4
  type: external
- id: output_tcpdump
  interface: ipv4
  type: external
- id: output_vtc
  interface: ipv4
  type: external
description: '"A first firewall VNF descriptor"

  '
descriptor_version: vnfd-schema-01
function_specific_managers:
- description: A FSM based on Ubuntu 16.04 LTS.
  id: fms01
  image: ubuntu:16.04
  options:
  - key: myKey
    value: myValue
- id: fms02
  image: ubuntu:14.04
  options:
  - key: myKey
    value: myValue
  - key: myOhterKey
    value: myOtherValue
  resource_requirements:
    docker_version: '1.12'
monitoring_rules:
- condition: vdu01:vm_cpu_perc > 10
  description: Trigger events if CPU load is above 10 percent.
  duration: 10
  duration_unit: s
  name: mon:rule:vm_cpu_perc
  notification:
  - name: notification01
    type: rabbitmq_message
- condition: vdu01:vm_mem_perc > 10
  description: Trigger events if memory consumption is above 10 percent.
  duration: 10
  duration_unit: s
  name: mon:rule:vm_mem_perc
  notification:
  - name: notification02
    type: rabbitmq_message
- condition: vdu01:vm_net_rx_MB > 10
  duration: 10
  duration_unit: s
  name: mon:rule:rx
  notification:
  - name: notification03
    type: rabbitmq_message
- condition: vdu01:vm_net_tx_MB > 10
  duration: 10
  duration_unit: s
  name: mon:rule:tx
  notification:
  - name: notification04
    type: rabbitmq_message
name: firewall-vnf
vendor: eu.sonata-nfv
version: '0.3'
virtual_deployment_units:
- connection_points:
  - id: vdu01:eth0
    interface: ipv4
    type: internal
  - id: vdu01:eth1
    interface: ipv4
    type: internal
  - id: vdu01:eth2
    interface: ipv4
    type: internal
  - id: vdu01:eth3
    interface: ipv4
    type: internal
  id: vdu01
  monitoring_parameters:
  - name: vm_cpu_perc
    unit: Percentage
  - name: vm_mem_pers
    unit: Percentage
  - name: vm_net_rx_MB
    unit: MB
  - name: vm_net_tx_MB
    unit: Mbps
  resource_requirements:
    cpu:
      vcpus: 1
    memory:
      size: 2
      size_unit: GB
    storage:
      size: 10
      size_unit: GB
  vm_image: http://registry.sonata-nfv.eu/html/files/VM_images/sonata-VM-2ports.qcow
  vm_image_format: qcow2
- connection_points:
  - id: vdu02:eth0
    interface: ipv4
    type: internal
  - id: vdu02:eth1
    interface: ipv4
    type: internal
  - id: vdu02:eth2
    interface: ipv4
    type: internal
  id: vdu02
  monitoring_parameters:
  - name: vm_cpu_perc
    unit: Percentage
  - name: vm_mem_pers
    unit: Percentage
  - name: vm_net_rx_MB
    unit: MB
  - name: vm_net_tx_MB
    unit: Mbps
  resource_requirements:
    cpu:
      vcpus: 1
    memory:
      size: 2
      size_unit: GB
    storage:
      size: 10
      size_unit: GB
  vm_image: http://registry.sonata-nfv.eu/html/files/VM_images/sonata-VM-2ports.qcow
  vm_image_format: qcow2
virtual_links:
- connection_points_reference:
  - vdu01:eth0
  - vdu02:eth0
  - mgmt
  connectivity_type: E-LAN
  dhcp: true
  id: mgmt
- connection_points_reference:
  - vdu01:eth1
  - input
  connectivity_type: E-Line
  dhcp: true
  id: input
- connection_points_reference:
  - vdu01:eth2
  - vdu02:eth1
  connectivity_type: E-Line
  dhcp: true
  id: vdu01-2-vdu02
- connection_points_reference:
  - vdu01:eth3
  - output_tcpdump
  connectivity_type: E-Line
  dhcp: true
  id: vdu01-2-output_tcpdump
- connection_points_reference:
  - vdu02:eth2
  - output_vtc
  connectivity_type: E-Line
  dhcp: true
  id: vdu02-2-output_vtc
